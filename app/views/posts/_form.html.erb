<div id="post-form">
  <h2>Post your Status!</h2>

  <%= form_for([@user, @post], url: user_posts_path(@user), html: { multipart: true }, authenticity_token: true, remote: true) do |f| %>
    <% if @post.errors.any? %>
      <div class="errors-div">
        <h4 class="errors-colors">
          Your post couldn't be saved because:
        </h4>
        <ul>
          <% @post.errors.messages.each do |field, error| %>
          <li class="errors-colors"><%= "#{field.to_s.capitalize} #{error[0]}" %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <p><%= f.label :title %></p>
    <%= f.text_field :title, cols: 50 %><br>

    <p><%= f.label :body %></p>
    <%= f.text_area :body, cols: 50, rows: 5 %><br>

    <p>Upload an Image</p>
    <%= f.file_field :photo %><br>

    <%= f.submit 'Post' %>
  <% end %>

</div>
